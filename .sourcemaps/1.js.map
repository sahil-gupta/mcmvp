{"version":3,"sources":["../../src/pages/videos/videos.module.ts","../../src/pages/videos/videos.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { VideosPage } from './videos';\n\n@NgModule({\n  declarations: [\n    VideosPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VideosPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    VideosPage\n  ]\n})\nexport class VideosPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/videos/videos.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ModalController, NavController } from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\n\nimport * as firebase from 'firebase/app';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n\n@IonicPage()\n@Component({\n  selector: 'page-videos',\n  templateUrl: 'videos.html'\n})\nexport class VideosPage {\n  videosDisplay;\n  currentUser;\n\n  constructor(\n    public navCtrl: NavController,\n    public modalCtrl: ModalController,\n    private iab: InAppBrowser,\n    afAuth: AngularFireAuth,\n    public http: HttpClient) {\n      this.videosDisplay = [];\n\n      // level 1\n      afAuth.authState.subscribe((user: firebase.User) => {\n        this.currentUser = user;\n        if (!user) {\n          console.log('no user');\n          return;\n        }\n\n        var uid = this.currentUser.uid;\n\n        // level 2\n        firebase.database().ref('usersvideos/' + uid).orderByKey()\n          .on('value', snapshot => {\n            var tempvideoids = [];\n            snapshot.forEach(childSnapshot => {\n              var temp = childSnapshot.val(); // these are video ids\n              tempvideoids.push(temp);\n              return false;\n            });\n            // console.log(tempvideoids);\n\n            tempvideoids = tempvideoids.reverse();\n\n            for (let i in tempvideoids) {\n              var videoid = tempvideoids[i];\n\n              // convert from videoid in database to youtubeid\n              firebase.database().ref('videos/' + videoid).once('value', snapshot => {\n\n                var tempyoutubeid = snapshot.val().youtubeid;\n                var url = \"https://www.googleapis.com/youtube/v3/videos?id=\";\n                url += tempyoutubeid;\n                url += \"&part=snippet&key=AIzaSyBLZNjlJT\";\n                url += \"R2-KP8OsuVJ3Pcdr0zKEjI\";\n                url += \"oxY\";\n\n                console.log(url);\n\n                // create closure\n                (function(locali, localhttp, localurl, localtempyoutubeid, localvideosdisplay) {\n                  localhttp.get(localurl).subscribe(result => {\n                      if (!result || !result['items'])\n                        return;\n\n                      console.log(result);\n                      var ref = result['items'][0].snippet;\n\n                      var newobj: any = {}; // hydrate object\n                      newobj.publishedAt = ref.publishedAt || '';\n                      newobj.title = ref.title || '';\n                      newobj.description = ref.description || '';\n                      newobj.thumbnailurl = ref.thumbnails.medium.url || '';\n                      newobj.youtubeid = localtempyoutubeid || '';\n                      newobj.youtubeopenurl = 'https://www.youtube.com/watch?v=' + localtempyoutubeid;\n\n                      localvideosdisplay[locali] = newobj; // make sure in order\n                      console.log(JSON.stringify(localvideosdisplay, null, 4));\n                  });\n                })(i, this.http, url, tempyoutubeid, this.videosDisplay);\n\n                return false;\n              })\n            }\n          });\n      });\n\n  }\n\n  openWebsite(website) {\n    // const browser =\n    this.iab.create(website, '_blank', 'location=no');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/videos/videos.ts"],"sourceRoot":""}
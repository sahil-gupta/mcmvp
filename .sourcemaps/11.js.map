{"version":3,"sources":["../../src/pages/list-master/list-master.module.ts","../../src/pages/list-master/list-master.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ListMasterPage } from './list-master';\n\n@NgModule({\n  declarations: [\n    ListMasterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListMasterPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ListMasterPage\n  ]\n})\nexport class ListMasterPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ModalController, NavController, ToastController } from 'ionic-angular';\n\nimport * as firebase from 'firebase/app';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n@IonicPage()\n@Component({\n  selector: 'page-list-master',\n  templateUrl: 'list-master.html'\n})\nexport class ListMasterPage {\n  lastOrg;\n  realorgs; // added the property \"ein\" for easy read access\n  checkedorgs;\n  thesegment;\n  currentUser;\n  db;\n\n  constructor(\n    public navCtrl: NavController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    afAuth: AngularFireAuth) {\n      this.db = firebase.database();\n      this.thesegment = 'curated';\n      this.realorgs = [];\n      this.checkedorgs = [];\n      afAuth.authState.subscribe((user: firebase.User) => {\n        this.currentUser = user;\n        if (!user) {\n          console.log('no user');\n          return;\n        }\n      });\n\n      // load up curated tab\n      // similar code in segmentChanged for 'curated'\n      this.db.ref('orgs').orderByChild('MCstars').limitToLast(7)\n        .once('value', snapshot => {\n          var temp = [];\n          var tempItem = {};\n          snapshot.forEach(function(childSnapshot) {\n            tempItem = childSnapshot.val();\n            tempItem['ein'] = childSnapshot.key;\n            temp.push(tempItem);\n          });\n          this.realorgs = temp.reverse();\n\n          // get checked orgs from user database\n          // is continually synced ('on' vs 'once')\n          this.db.ref('users/' + this.currentUser.uid + '/orgs')\n            .on('value', snapshot => {\n              this.checkedorgs = snapshot.val() || [];\n              this.updateCheckedValues();\n            });\n        });\n  }\n\n\n\n  segmentChanged(ev) {\n    if (ev._value === 'all') {\n      this.realorgs = [];\n\n      this.db.ref('orgs').orderByChild('PPnameSearch').limitToFirst(15)\n        .once('value', snapshot => {\n          if (this.thesegment !== 'all') return;\n\n          var temp = [];\n          var tempItem = {};\n          snapshot.forEach(function(childSnapshot) {\n            tempItem = childSnapshot.val();\n            tempItem['ein'] = childSnapshot.key;\n            temp.push(tempItem);\n          });\n          this.lastOrg = temp[temp.length - 1];\n          this.realorgs = temp;\n\n          this.updateCheckedValues();\n        });\n\n    } else if (ev._value === 'curated') {\n      this.realorgs = [];\n\n      this.db.ref('orgs').orderByChild('MCstars').limitToLast(7)\n        .once('value', snapshot => {\n          if (this.thesegment !== 'curated') return;\n\n          var temp = [];\n          var tempItem = {};\n          snapshot.forEach(function(childSnapshot) {\n            tempItem = childSnapshot.val();\n            tempItem['ein'] = childSnapshot.key;\n            temp.push(tempItem);\n          });\n          this.realorgs = temp.reverse();\n\n          this.updateCheckedValues();\n        });\n\n    } else if (ev._value === 'my') {\n      this.realorgs = [];\n\n      var temp = this.checkedorgs;\n      var tempkeys = (<any>Object).keys(temp);\n      tempkeys = tempkeys.filter(k => temp[k]); // only true values\n\n      if (!tempkeys.length) {\n        let toast = this.toastCtrl.create({\n          message: 'Check out Our Picks to build your portfolio',\n          duration: 3000,\n          position: 'middle',\n          showCloseButton: true,\n          closeButtonText: 'Ok'\n        });\n        toast.present();\n      }\n\n      for (var i in tempkeys) {\n        this.db.ref('orgs/' + tempkeys[i])\n          .once('value', snapshot => {\n            if (this.thesegment !== 'my') return;\n\n            var temp2Item = snapshot.val();\n            temp2Item['ein'] = snapshot.key;\n            this.realorgs.push(temp2Item);\n\n            this.updateCheckedValues();\n          });\n      }\n    }\n  }\n\n\n\n  toggleChanged(ev) {\n    this.db.ref('users/' + this.currentUser.uid + '/orgs/' + ev.ein)\n      .set(ev.checked);\n  }\n\n\n\n  infiniteScroll(): Promise<any> {\n    console.log('begin async operation');\n\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        this.db.ref('orgs').orderByChild('PPnameSearch')\n          .startAt(this.lastOrg.PPnameSearch)\n          .limitToFirst(15)\n          .once('value', snapshot => {\n            if (this.thesegment !== 'all') return;\n\n            var temp = [];\n            var tempItem = {};\n            snapshot.forEach(function(childSnapshot) {\n              tempItem = childSnapshot.val();\n              tempItem['ein'] = childSnapshot.key;\n              temp.push(tempItem);\n            });\n            this.lastOrg = temp[temp.length - 1];\n            temp.shift(); // remove the first item, a duplicate\n            this.realorgs.push.apply(this.realorgs, temp);\n\n            this.updateCheckedValues();\n          });\n\n        console.log('end async operation');\n        resolve();\n      }, 50);\n    });\n  }\n\n  searchForOrgs(ev) {\n    let val = ev.target.value;\n    if (!val || !val.trim()) {\n      return;\n    }\n\n    this.db.ref('orgs').orderByChild('PPnameSearch')\n      .startAt(val.toLowerCase())\n      .endAt(val.toLowerCase() + \"\\uf8ff\")\n      .limitToFirst(30)\n      .once('value', snapshot => {\n        if (this.thesegment !== 'all') return;\n\n        var temp = [];\n        var tempItem = {};\n        snapshot.forEach(function(childSnapshot) {\n          tempItem = childSnapshot.val();\n          tempItem['ein'] = childSnapshot.key;\n          temp.push(tempItem);\n        });\n        this.realorgs = temp;\n\n        this.updateCheckedValues();\n      });\n  }\n\n  resetOrgs(ev) {\n    this.lastOrg = {'PPnameSearch': ''};\n    this.realorgs = [];\n  }\n\n  openOrg(org) {\n    var orgDisplay = {};\n\n    orgDisplay['name'] = org.PPname; // also CNcharityName\n    orgDisplay['description'] = org.PPdescription || org.CNdescription;\n    orgDisplay['slogan'] = org.CNslogan;\n    orgDisplay['website'] = org.CNwebsite || org.PPwebsite;\n    orgDisplay['logoUrl'] = org.PPlogoUrl;\n\n    orgDisplay['charityNavUrl'] = org.CNcharityNavUrl;\n    orgDisplay['score'] = org.CNscore || null;\n    if (org.CNstars >= 1)\n      orgDisplay['stars'] = org.CNstars;\n\n    orgDisplay['charityNavSection'] = false;\n    if (orgDisplay['charityNavUrl'] || orgDisplay['score'] || orgDisplay['stars'])\n      orgDisplay['charityNavSection'] = true;\n\n\n    orgDisplay['areas'] = [];\n    if (org.PPmissionAreas)\n      orgDisplay['areas'] = (<any>Object).values(org.PPmissionAreas);\n    if (org.CNcause)\n      orgDisplay['areas'].push(org.CNcause);\n    if (org.CNcategory)\n      orgDisplay['areas'].push(org.CNcategory);\n    orgDisplay['areas'] = Array.from(new Set(orgDisplay['areas'])); // remove dups\n\n    this.navCtrl.push('OrgDetailPage', {\n      orgDisplay: orgDisplay\n    });\n  }\n\n  updateCheckedValues() {\n    if (!this.checkedorgs)\n      return;\n    for (var i in this.realorgs)\n      this.realorgs[i].checked = this.checkedorgs[this.realorgs[i]['ein']];\n  }\n\n  addBlock() {\n    var temp = this.realorgs.filter(org => org.checked);\n    var blockorgs = temp.slice(); // duplicate. will still carry some identical deep fields\n\n    for (var i in blockorgs)\n      blockorgs[i].percentage = 0;\n\n    if (blockorgs.length === 1) {\n      blockorgs[0].percentage = 100;\n    } else {\n      blockorgs[0].percentage = 50;\n      blockorgs[1].percentage = 50;\n    }\n\n    var theuser = {};\n    theuser['uid'] = this.currentUser.uid;\n    theuser['nameFull'] = this.currentUser.displayName;\n    var namearr = [];\n    if (this.currentUser.displayName)\n      namearr = this.currentUser.displayName.split(' ');\n    theuser['nameFirst'] = namearr[0] || '';\n    if (namearr.length >= 2) {\n        theuser['nameInitials'] = namearr[0][0] + namearr[1][0];\n    } else {\n      theuser['nameInitials'] = namearr[0][0] || '';\n    }\n\n    // console.log(theuser)\n\n    this.navCtrl.push('OrgDonatePage', {\n      blockorgs: blockorgs,\n      theuser: theuser\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.ts"],"sourceRoot":""}
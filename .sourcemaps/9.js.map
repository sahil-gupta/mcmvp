{"version":3,"sources":["../../src/pages/list-master/list-master.module.ts","../../src/pages/list-master/list-master.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ListMasterPage } from './list-master';\n\n@NgModule({\n  declarations: [\n    ListMasterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListMasterPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ListMasterPage\n  ]\n})\nexport class ListMasterPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ModalController, NavController, ToastController } from 'ionic-angular';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\n\nimport { YoutubeVideoPlayer } from '@ionic-native/youtube-video-player';\n\nimport * as firebase from 'firebase/app';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n// import { Observable } from 'rxjs/Observable';\n\n@IonicPage()\n@Component({\n  selector: 'page-list-master',\n  templateUrl: 'list-master.html'\n})\nexport class ListMasterPage {\n  // orgs: Observable<any[]>; // heree\n  afDBlocal: AngularFireDatabase;\n  orgobservable;\n  lastOrg;\n  realorgs;\n  thesegment;\n  currentUser;\n\n  constructor(\n    public navCtrl: NavController,\n    public modalCtrl: ModalController,\n    afDB: AngularFireDatabase,\n    private afAuth: AngularFireAuth,\n    public toastCtrl: ToastController,\n    private youtube: YoutubeVideoPlayer) {\n      this.afDBlocal = afDB;\n      this.thesegment = 'curated';\n      afAuth.authState.subscribe((user: firebase.User) => {\n        if (!user) {\n          console.log('no user');\n          if (this.orgobservable) {\n            this.orgobservable.unsubscribe(); // heree need to unsubscribe to avoid errors\n          }\n          this.currentUser = null;\n          return;\n        }\n        this.currentUser = user;\n      });\n      console.log(this.currentUser);\n\n      // same code in segmentChanged for 'curated'\n      this.orgobservable = this.afDBlocal.list('orgs', ref => {\n        return ref.orderByChild('MCstars').limitToLast(7);\n      }).valueChanges();\n      this.orgobservable.subscribe(res => {\n        this.realorgs = res.reverse();\n      });\n\n  }\n\n  segmentChanged(ev) {\n    if (ev._value === 'all') {\n      this.orgobservable = this.afDBlocal.list('orgs', ref => {\n        return ref.orderByChild('PPnameSearch').limitToFirst(15);\n      }).valueChanges();\n      this.orgobservable.subscribe(res => {\n        this.lastOrg = res[res.length - 1];\n        this.realorgs = res;\n      });\n\n    } else if (ev._value === 'curated') {\n      this.orgobservable = this.afDBlocal.list('orgs', ref => {\n        return ref.orderByChild('MCstars').limitToLast(7);\n      }).valueChanges();\n      this.orgobservable.subscribe(res => {\n        this.realorgs = res.reverse();\n      });\n    } else if (ev._value === 'my') {\n      this.orgobservable.unsubscribe();\n      this.realorgs = [];\n\n      let toast = this.toastCtrl.create({\n        message: 'Check out Curated to build your portfolio',\n        duration: 3000,\n        position: 'middle'\n      });\n      toast.present();\n    }\n  }\n\n  toggleChanged(ev) {\n    // console.log(this.realorgs)\n    // for (var i in this.realorgs) {\n      // if (this.realorgs[i].checked) {\n        // console.log(this.realorgs[i].PPname)\n      // }\n    // }\n\n  }\n\n  doInfinite(): Promise<any> {\n    console.log('begin async operation');\n\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        this.orgobservable = this.afDBlocal.list('orgs', ref => {\n          return ref.orderByChild('PPnameSearch').startAt(this.lastOrg.PPnameSearch).limitToFirst(15);\n        }).valueChanges();\n        this.orgobservable.subscribe(res => {\n          this.lastOrg = res[res.length - 1];\n          res.shift(); // remove first one which is a duplicate\n          this.realorgs.push.apply(this.realorgs, res);\n        })\n\n        console.log('end async operation');\n        resolve();\n      }, 50);\n    });\n  }\n\n  ionViewDidLoad() {\n  }\n\n  getItems(ev) {\n    let val = ev.target.value;\n    if (!val || !val.trim()) {\n      return;\n    }\n\n    this.orgobservable = this.afDBlocal.list('orgs', ref => {\n      return ref.orderByChild('PPnameSearch')\n                .startAt(val.toLowerCase())\n                .endAt(val.toLowerCase() + \"\\uf8ff\")\n                .limitToFirst(30);\n    }).valueChanges();\n    this.orgobservable.subscribe(res => {\n      this.realorgs = res;\n    });\n  }\n\n  resetItems(ev) {\n    this.orgobservable.unsubscribe();\n    this.lastOrg = {'PPnameSearch': ''}; // reset\n    this.realorgs = [];\n  }\n\n  /**\n   * Prompt the user to add a new item. This shows our ItemCreatePage in a\n   * modal and then adds the new item to our data source if the user created one.\n   */\n  // addItem() {\n  //   let addModal = this.modalCtrl.create('ItemCreatePage');\n  //   addModal.onDidDismiss(item => {\n  //     if (item) {\n  //       this.items.add(item);\n  //     }\n  //   })\n  //   addModal.present();\n  // }\n\n  /**\n   * Delete an item from the list of items.\n   */\n  // deleteItem(item) {\n  //   this.items.delete(item);\n  // }\n\n  /**\n   * Navigate to the detail page for this item.\n   */\n  openItem(item) {\n    // this.navCtrl.push('ItemDetailPage', {\n    //   item: item\n    // });\n    this.youtube.openVideo('dQw4w9WgXcQ')\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list-master/list-master.ts"],"sourceRoot":""}